<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content">
     
    <div class="modal-header">
      <h5 class="modal-title text-center" id="sensorEditModalTitle"> Edit Sensor {{sensor.idSensor}} </h5>
    </div>

    <div class="modal-body">

      <div class="container-fluid">

        <form [formGroup]="sensorForm">

          <div class="form-group row">
            <label for="name-input" class="col-sm-3 col-form-label"> Name </label>
            <div class="col-sm-9 has-feedback" [class.has-error]="!sensorForm.controls['name'].valid">
              <input class="form-control" id="name-input" type="text" [formControl]="sensorForm.controls['name']" required>
              <span *ngIf="!sensorForm.controls['name'].valid" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </div>
          </div>

          <div class="form-group row" >
            <label for="location-input" class="col-sm-3 col-form-label"> Location </label>
            <div class="col-sm-9 has-feedback" [class.has-error]="!sensorForm.controls['location'].valid">
              <!-- <input class="form-control" id="location-input" type="text" [formControl]="sensorForm.controls['location']" required >
              <span *ngIf="!sensorForm.controls['location'].valid" class="glyphicon glyphicon-remove form-control-feedback"></span> 
              <label for="chart-type-list">Locations:</label> -->
              <select class="form-control" id="chart-type-list" [formControl]="sensorForm.controls['location']">
                  <option *ngFor="let loc of sortedList" > {{ loc.idLocation }} - {{ loc.name }} </option>
              </select>
            </div>
          </div>

          <!-- <div class="form-group">
              <label for="chart-type-list">Chart Type:</label>
              <select class="form-control" id="chart-type-list" (change)="onChangeChartType($event.target.value)">
                <option *ngFor="let type of availableChartType" > {{ type }} </option>
              </select>
            </div> -->
          
          <div class="form-group row measurements-row" >
            <p class="title">Measurements</p>
            <div class="mea-row" [class.has-error]="!sensorForm.controls['measurements'].valid" *ngFor="let mea of sensor.measurements;let i = index">
              <span [attr.id]="mea.type"> {{mea.measurementType}} </span>
              <p class="text-right">
                <button class="btn option-button" (click)="deleteMeasurement(sensor.idSensor, mea.measurementType)"> 
                  <span class="fa fa-trash-o delete-icon"> </span>
                </button>
              </p>
            </div>



            <!-- <div class="dropdown show">
                <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Add new meas
                </a>
              
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <select class="add-row" id="chart-type-list" (change)="modifyMeasurements($event.target.value)">
                        <option *ngFor="let meas of measurements" > {{ meas }} </option>
                    </select>
                </div>
            </div> -->



            <select class="add-row" id="chart-type-list" (change)="modifyMeasurements($event.target.value)">
                <option *ngFor="let meas of measurements" > {{ meas }} </option>
            </select>





          </div>

          <!-- <div class="form-group row has-feedback" [class.has-error]="!sensorForm.controls['email'].valid">
            <label for="email-input" class="col-sm-2 col-form-label"> Email </label>
            <div class="col-sm-10">
              <input class="form-control" id="email-input" type="text" [formControl]="sensorForm.controls['email']" required>
              <span *ngIf="!sensorForm.controls['email'].valid" class="glyphicon glyphicon-remove form-control-feedback"></span> 
            </div>
          </div> -->

          <!-- <div class="form-group">
            <div class="form-check form-check-inline">
              <label class="form-check-label" >
                <input class="form-check-input" type="checkbox" value="" [formControl]="sensorForm.controls['admin']" >
                Admin 
              </label>
            </div>
          </div> -->

          <!-- <button type="submit" class="btn btn-primary" data-dismiss="modal" [disabled]="! sensorForm.valid">Save Changes</button> -->

        </form>

      </div>
        
    </div>      
             
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="close()" data-dismiss="modal">Close</button>
      <button type="submit" class="btn btn-primary" (click)="submitModal(sensorForm.value)" data-dismiss="modal" [disabled]="! sensorForm.valid">Save Changes</button>
    </div>

  </div>
  
</div>